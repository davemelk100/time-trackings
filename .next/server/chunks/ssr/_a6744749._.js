module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},98855,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(69265),f=a.i(85808),g=a.i(3130),h=a.i(88237),i=a.i(78560),j=a.i(21937);function k(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(a)}function l(){let{supabase:a}=(0,j.useAuth)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let b=!1;return async function(){try{let[c,d]=await Promise.all([(0,i.fetchAllInvoices)(a),(0,i.fetchClients)(a)]);if(b)return;m(c),o(d)}catch{}finally{b||q(!0)}}(),()=>{b=!0}},[a]),(0,b.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,b.jsx)(e.DashboardHeader,{clientName:"Archives"}),(0,b.jsx)("main",{className:"mx-auto w-full max-w-7xl flex-1 px-4 py-6 sm:px-6 lg:px-8 flex flex-col gap-8",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Archived Invoices"})}),(0,b.jsx)(g.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{children:"Invoice #"}),(0,b.jsx)(h.TableHead,{children:"Client"}),(0,b.jsx)(h.TableHead,{children:"Period"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Time"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Subs"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Payables"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Grand Total"})]})}),(0,b.jsx)(h.TableBody,{children:p?0===l.length?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:7,className:"py-8 text-center text-muted-foreground",children:"No archived invoices yet."})}):l.map(a=>{let c,e=a.periodStart&&a.periodEnd?`${new Date(a.periodStart+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${new Date(a.periodEnd+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`:"N/A";return(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableCell,{className:"font-medium",children:(0,b.jsx)(d.default,{href:`/client/${a.clientId}?invoice=${a.id}`,className:"text-primary hover:underline",children:a.invoiceNumber})}),(0,b.jsx)(h.TableCell,{children:(c=a.clientId,n.find(a=>a.id===c)?.name??c)}),(0,b.jsx)(h.TableCell,{className:"text-muted-foreground",children:e}),(0,b.jsx)(h.TableCell,{className:"text-right font-mono",children:k(a.totalTime)}),(0,b.jsx)(h.TableCell,{className:"text-right font-mono",children:k(a.totalSubscriptions)}),(0,b.jsx)(h.TableCell,{className:"text-right font-mono",children:k(a.totalPayables)}),(0,b.jsx)(h.TableCell,{className:"text-right font-mono font-semibold text-primary",children:k(a.grandTotal)})]},a.id)}):(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:7,className:"py-8 text-center text-muted-foreground",children:"Loading..."})})})]})})})]})}),(0,b.jsx)(f.DashboardFooter,{})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_a6744749._.js.map